<!-- Componente de B√∫squeda Global -->
<div class="global-search-overlay" id="search-overlay" aria-hidden="true" role="dialog" aria-label="B√∫squeda del sitio">
    <div class="search-modal">
        <button class="search-close" aria-label="Cerrar b√∫squeda" onclick="toggleSearch()">
            <i class="fas fa-times"></i>
        </button>
        
        <div class="search-header">
            <h2>üîç Buscar en Flores Victoria</h2>
            <p>Encuentra productos, art√≠culos del blog y m√°s</p>
        </div>
        
        <form class="search-form" onsubmit="return handleSearch(event)">
            <div class="search-input-wrapper">
                <i class="fas fa-search search-icon"></i>
                <input 
                    type="search" 
                    id="global-search-input" 
                    placeholder="Buscar productos, art√≠culos, informaci√≥n..."
                    aria-label="Campo de b√∫squeda"
                    autocomplete="off"
                    autofocus
                >
                <button type="submit" class="search-submit">Buscar</button>
            </div>
        </form>
        
        <div class="search-suggestions">
            <h3>B√∫squedas Populares</h3>
            <div class="suggestion-tags">
                <a href="/pages/products.html?category=rosas" class="tag-link">üåπ Rosas</a>
                <a href="/pages/products.html?category=bouquets" class="tag-link">üíê Bouquets</a>
                <a href="/pages/products.html?category=arrangements" class="tag-link">üéÄ Arreglos</a>
                <a href="/pages/products.html?category=gifts" class="tag-link">üéÅ Regalos</a>
                <a href="/pages/products.html?occasion=wedding" class="tag-link">üíí Bodas</a>
                <a href="/pages/products.html?occasion=birthday" class="tag-link">üéÇ Cumplea√±os</a>
            </div>
        </div>
        
        <div class="quick-links">
            <h3>Accesos R√°pidos</h3>
            <div class="quick-links-grid">
                <a href="/pages/products.html" class="quick-link">
                    <i class="fas fa-shopping-bag"></i>
                    <span>Productos</span>
                </a>
                <a href="/pages/gallery.html" class="quick-link">
                    <i class="fas fa-images"></i>
                    <span>Galer√≠a</span>
                </a>
                <a href="/pages/blog.html" class="quick-link">
                    <i class="fas fa-newspaper"></i>
                    <span>Blog</span>
                </a>
                <a href="/pages/contact.html" class="quick-link">
                    <i class="fas fa-envelope"></i>
                    <span>Contacto</span>
                </a>
            </div>
        </div>
        
        <div id="search-results" class="search-results" style="display: none;">
            <!-- Los resultados se cargan din√°micamente aqu√≠ -->
        </div>
    </div>
</div>

<style>
    .global-search-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(10px);
        z-index: 9999;
        display: none;
        align-items: flex-start;
        justify-content: center;
        padding-top: 5vh;
        animation: fadeIn 0.3s ease;
    }
    
    .global-search-overlay.active {
        display: flex;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    .search-modal {
        background: white;
        border-radius: 16px;
        max-width: 700px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        position: relative;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: slideDown 0.3s ease;
    }
    
    @keyframes slideDown {
        from { transform: translateY(-50px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    
    .search-close {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: #f5f5f5;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        z-index: 10;
    }
    
    .search-close:hover {
        background: #2d5016;
        color: white;
        transform: rotate(90deg);
    }
    
    .search-header {
        padding: 2rem 2rem 1rem;
        text-align: center;
    }
    
    .search-header h2 {
        margin-bottom: 0.5rem;
        color: #2d5016;
        font-family: 'Playfair Display', serif;
    }
    
    .search-header p {
        color: #666;
        font-size: 0.875rem;
    }
    
    .search-form {
        padding: 0 2rem 1.5rem;
    }
    
    .search-input-wrapper {
        position: relative;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    
    .search-icon {
        position: absolute;
        left: 1rem;
        color: #999;
        font-size: 1.125rem;
    }
    
    .search-form input {
        flex: 1;
        padding: 1rem 1rem 1rem 3rem;
        border: 2px solid #e0e0e0;
        border-radius: 12px;
        font-size: 1rem;
        transition: border-color 0.3s ease;
    }
    
    .search-form input:focus {
        outline: none;
        border-color: #2d5016;
    }
    
    .search-submit {
        background: #2d5016;
        color: white;
        border: none;
        padding: 1rem 1.5rem;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
    }
    
    .search-submit:hover {
        background: #1f3810;
        transform: translateY(-2px);
    }
    
    .search-suggestions,
    .quick-links {
        padding: 1.5rem 2rem;
        border-top: 1px solid #eee;
    }
    
    .search-suggestions h3,
    .quick-links h3 {
        font-size: 0.875rem;
        text-transform: uppercase;
        color: #999;
        margin-bottom: 1rem;
        letter-spacing: 0.5px;
    }
    
    .suggestion-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }
    
    .tag-link {
        display: inline-block;
        padding: 0.5rem 1rem;
        background: #f5f5f5;
        color: #333;
        text-decoration: none;
        border-radius: 20px;
        font-size: 0.875rem;
        transition: all 0.3s ease;
    }
    
    .tag-link:hover {
        background: #2d5016;
        color: white;
        transform: translateY(-2px);
    }
    
    .quick-links-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1rem;
    }
    
    .quick-link {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        padding: 1rem;
        background: #f8f9fa;
        border-radius: 12px;
        text-decoration: none;
        color: #333;
        transition: all 0.3s ease;
    }
    
    .quick-link:hover {
        background: #2d5016;
        color: white;
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(45, 80, 22, 0.2);
    }
    
    .quick-link i {
        font-size: 1.5rem;
    }
    
    .quick-link span {
        font-size: 0.875rem;
        font-weight: 500;
    }
    
    .search-results {
        padding: 1.5rem 2rem;
        border-top: 1px solid #eee;
    }
    
    @media (max-width: 768px) {
        .search-modal {
            width: 95%;
            max-height: 90vh;
        }
        
        .quick-links-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .search-input-wrapper {
            flex-direction: column;
        }
        
        .search-form input,
        .search-submit {
            width: 100%;
        }
    }
</style>

<script>
    // Toggle search overlay
    function toggleSearch() {
        const overlay = document.getElementById('search-overlay');
        const isActive = overlay.classList.toggle('active');
        overlay.setAttribute('aria-hidden', !isActive);
        
        if (isActive) {
            document.getElementById('global-search-input').focus();
            document.body.style.overflow = 'hidden';
        } else {
            document.body.style.overflow = '';
        }
    }
    
    // Handle search form submission
    function handleSearch(event) {
        event.preventDefault();
        const query = document.getElementById('global-search-input').value.trim();
        
        if (query) {
            // Simulate search (en producci√≥n, esto har√≠a una b√∫squeda real)
            performSiteSearch(query);
        }
        
        return false;
    }
    
    // Perform site search
    function performSiteSearch(query) {
        const resultsDiv = document.getElementById('search-results');
        resultsDiv.style.display = 'block';
        resultsDiv.innerHTML = '<p style="text-align: center; color: #999;">Buscando...</p>';
        
        // Simulaci√≥n de resultados (en producci√≥n, esto ser√≠a una API call)
        setTimeout(() => {
            const mockResults = [
                { title: 'Bouquet de Rosas Premium', url: '/pages/products.html', type: 'Producto' },
                { title: 'Gu√≠a de Cuidado de Flores', url: '/pages/blog.html', type: 'Blog' },
                { title: 'Arreglos para Bodas', url: '/pages/products.html?occasion=wedding', type: 'Producto' }
            ];
            
            resultsDiv.innerHTML = `
                <h3 style="margin-bottom: 1rem;">Resultados para "${query}"</h3>
                ${mockResults.map(result => `
                    <a href="${result.url}" style="display: block; padding: 1rem; background: #f8f9fa; border-radius: 8px; margin-bottom: 0.5rem; text-decoration: none; color: #333;">
                        <div style="font-weight: 600;">${result.title}</div>
                        <div style="font-size: 0.75rem; color: #999; margin-top: 0.25rem;">${result.type}</div>
                    </a>
                `).join('')}
                <p style="text-align: center; margin-top: 1rem;">
                    <a href="https://www.google.com/search?q=site:flores-victoria.com ${encodeURIComponent(query)}" target="_blank" style="color: #2d5016;">Ver m√°s resultados en Google ‚Üí</a>
                </p>
            `;
        }, 500);
    }
    
    // Close on ESC key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            const overlay = document.getElementById('search-overlay');
            if (overlay.classList.contains('active')) {
                toggleSearch();
            }
        }
    });
    
    // Close on overlay click
    document.getElementById('search-overlay')?.addEventListener('click', function(e) {
        if (e.target === this) {
            toggleSearch();
        }
    });
</script>

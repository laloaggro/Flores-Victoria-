# Nixpacks configuration for cart-service
[phases.setup]
nixPkgs = ['nodejs']

[phases.install]
cmds = [
  'cd /app/microservices/shared && npm install --production',
  'cd /app/microservices/cart-service && npm ci',
  'cd /app/microservices/cart-service && mkdir -p node_modules/@flores-victoria',
  'cd /app/microservices/cart-service && cp -r ../shared node_modules/@flores-victoria/'
]

[start]
cmd = 'cd /app/microservices/cart-service && node src/server.js'

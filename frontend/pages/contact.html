<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto - Arreglos Victoria</title>
    <meta name="description" content="Contáctanos para pedidos especiales, consultas o visitar nuestra florería en Av. Valdivieso 593, Recoleta.">
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://flores-victoria.com/pages/contact.html">
    <meta property="og:title" content="Contacto - Arreglos Victoria">
    <meta property="og:description" content="Contáctanos para pedidos especiales, consultas o visitar nuestra florería en Av. Valdivieso 593, Recoleta.">
    <meta property="og:image" content="https://flores-victoria.com/images/og-image.jpg">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://flores-victoria.com/pages/contact.html">
    <meta name="twitter:title" content="Contacto - Arreglos Victoria">
    <meta name="twitter:description" content="Contáctanos para pedidos especiales, consultas o visitar nuestra florería en Av. Valdivieso 593, Recoleta.">
    <meta name="twitter:image" content="https://flores-victoria.com/images/og-image.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://flores-victoria.com/pages/contact.html">
    
    <link rel="icon" href="/favicon.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#C2185B">
    
    <link rel="icon" href="/favicon.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="/css/base.css?v=20250124">
    <link rel="stylesheet" href="/css/style.css?v=20250124">
    <link rel="stylesheet" href="/css/design-system.css?v=20250124">
    <link rel="stylesheet" href="/css/fixes.css?v=20250124">
    <link rel="stylesheet" href="/css/contact-enhanced.css?v=20250124">
    <link rel="stylesheet" href="/css/global-search.css">
    <link rel="stylesheet" href="/css/mobile-responsive.css">
    <link rel="stylesheet" href="/css/breadcrumbs.css">
    <link rel="stylesheet" href="/css/microinteractions.css">
    <link rel="stylesheet" href="/css/accessibility-fixes.css?v=20251124">
    <script src="/js/sw-register.js" defer></script>
    <link rel="stylesheet" href="/css/footer-fixes.css?v=20251114">
</head>
<body>
    <div id="header-root"></div>

    <div class="breadcrumbs-container">
        <div class="container">
            <nav aria-label="breadcrumb" style="padding: 1rem 0;">
                <ol style="display: flex; gap: 0.5rem; list-style: none; padding: 0; margin: 0; font-size: 0.875rem; color: #4a4a4a;">
                    <li><a href="/index.html" style="color: #C2185B; text-decoration: none;">Inicio</a></li>
                    <li style="color: #767676;">/</li>
                    <li style="color: #333; font-weight: 500;">Contacto</li>
                </ol>
            </nav>
        </div>
    </div>

    <main>
        <section class="contact">
            <div class="container">
                <div class="page-header">
                    <h1 class="section-title" style="opacity: 1 !important; transform: none !important; font-size: 2.5rem; margin-bottom: 1rem; text-align: center; color: #2C1F2F;">Contáctanos</h1>
                    <p class="contact-description" style="opacity: 1 !important; transform: none !important; font-size: 1.1rem; text-align: center; color: #5A505E; margin-bottom: 2rem; max-width: 800px; margin-left: auto; margin-right: auto;">¿Tienes alguna pregunta o necesitas ayuda? Estamos aquí para ayudarte.</p>
                </div>
                
                <div class="quick-contact-cards animate-on-scroll reveal-scale stagger-children">
                    <a href="tel:+56212345678" class="quick-contact-card card-3d ripple">
                        <div class="quick-contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <h3>Llámanos</h3>
                        <p>+56 2 1234 5678</p>
                    </a>
                    <a href="https://wa.me/56912345678" target="_blank" class="quick-contact-card whatsapp card-3d ripple">
                        <div class="quick-contact-icon">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <h3>WhatsApp</h3>
                        <p>Chat directo</p>
                    </a>
                    <a href="mailto:info@flores-victoria.com" class="quick-contact-card card-3d ripple">
                        <div class="quick-contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <h3>Email</h3>
                        <p>info@flores-victoria.com</p>
                    </a>
                </div>
                
                <div class="contact-wrapper">
                    <div class="contact-info animate-on-scroll">
                        <h2><i class="fas fa-info-circle"></i> Información de Contacto</h2>
                        <ul class="contact-details">
                            <li>
                                <i class="fas fa-map-marker-alt contact-icon"></i>
                                <div>
                                    <h3>Ubicación</h3>
                                    <p>Av. Valdivieso 593, Recoleta</p>
                                    <p>Recoleta, Región Metropolitana</p>
                                    <a href="https://www.google.com/maps/search/?api=1&query=Av.+Recoleta+1234,+Santiago" 
                                       target="_blank" 
                                       class="btn-link">
                                        <i class="fas fa-directions"></i> Cómo llegar
                                    </a>
                                </div>
                            </li>
                            <li>
                                <i class="fas fa-phone contact-icon"></i>
                                <div>
                                    <h3>Teléfono</h3>
                                    <p><a href="tel:+56212345678">+56 2 1234 5678</a></p>
                                    <p><a href="tel:+56912345678">+56 9 1234 5678</a> (Móvil)</p>
                                </div>
                            </li>
                            <li>
                                <i class="fas fa-envelope contact-icon"></i>
                                <div>
                                    <h3>Email</h3>
                                    <p><a href="mailto:info@flores-victoria.com">info@flores-victoria.com</a></p>
                                    <p><a href="mailto:ventas@flores-victoria.com">ventas@flores-victoria.com</a></p>
                                </div>
                            </li>
                            <li>
                                <i class="fas fa-clock contact-icon"></i>
                                <div>
                                    <h3>Horario de Atención</h3>
                                    <p>Lunes a Viernes: 9:00 AM - 8:00 PM</p>
                                    <p>Sábados y Domingos: 10:00 AM - 6:00 PM</p>
                                    <p class="status-badge" id="storeStatus">
                                        <span class="status-indicator"></span>
                                        <span class="status-text">Calculando...</span>
                                    </p>
                                </div>
                            </li>
                        </ul>

                        <div class="contact-social">
                            <h3>Síguenos en Redes Sociales</h3>
                            <div class="social-buttons">
                                <a href="#" class="social-btn facebook" target="_blank" aria-label="Facebook">
                                    <i class="fab fa-facebook-f"></i>
                                    <span>Facebook</span>
                                </a>
                                <a href="#" class="social-btn instagram" target="_blank" aria-label="Instagram">
                                    <i class="fab fa-instagram"></i>
                                    <span>Instagram</span>
                                </a>
                                <a href="https://wa.me/56912345678" class="social-btn whatsapp" target="_blank" aria-label="WhatsApp">
                                    <i class="fab fa-whatsapp"></i>
                                    <span>WhatsApp</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="contact-form-section animate-on-scroll">
                        <h2><i class="fas fa-paper-plane"></i> Envíanos un Mensaje</h2>
                        
                        <div class="form-message success-message" id="successMessage" style="display: none;">
                            <i class="fas fa-check-circle"></i>
                            <p>¡Mensaje enviado exitosamente! Nos pondremos en contacto contigo pronto.</p>
                        </div>
                        
                        <div class="form-message error-message" id="errorMessage" style="display: none;">
                            <i class="fas fa-exclamation-circle"></i>
                            <p>Hubo un error al enviar el mensaje. Por favor, intenta nuevamente.</p>
                        </div>

                        <form class="contact-form" id="contactForm" data-validate novalidate style="opacity: 1 !important; transform: none !important;">
                            <div class="form-row">
                                <div class="form-group floating-label">
                                    <label for="name">
                                        Nombre Completo <span class="required">*</span>
                                    </label>
                                    <input type="text" 
                                           id="name" 
                                           name="name" 
                                           class="floating-label-input"
                                           required 
                                           minlength="3"
                                           placeholder="Tu nombre completo"
                                           autocomplete="name">
                                    <span class="field-error" id="nameError"></span>
                                    <span class="field-success"><i class="fas fa-check-circle"></i></span>
                                </div>
                                
                                <div class="form-group floating-label">
                                    <label for="email">
                                        Email <span class="required">*</span>
                                    </label>
                                    <input type="email" 
                                           id="email" 
                                           name="email" 
                                           class="floating-label-input"
                                           required 
                                           placeholder="tu@email.com"
                                           autocomplete="email">
                                    <span class="field-error" id="emailError"></span>
                                    <span class="field-success"><i class="fas fa-check-circle"></i></span>
                                </div>
                            </div>

            <div class="form-row">
                                <div class="form-group floating-label">
                                    <label for="phone">
                                        Teléfono <span class="optional">(Opcional)</span>
                                    </label>
                                    <input type="tel" 
                                           id="phone"
                                           class="floating-label-input" 
                                           name="phone" 
                                           placeholder="+56 9 1234 5678"
                                           pattern="[+]?[0-9]{8,15}"
                                           autocomplete="tel">
                                    <span class="field-error" id="phoneError"></span>
                                    <span class="field-success"><i class="fas fa-check-circle"></i></span>
                                </div>
                                
                                <div class="form-group">
                                    <label for="subject">
                                        Asunto <span class="required">*</span>
                                    </label>
                                    <select id="subject" name="subject" required>
                                        <option value="">Selecciona un asunto</option>
                                        <option value="pedido">Pedido especial</option>
                                        <option value="consulta">Consulta general</option>
                                        <option value="cotizacion">Solicitar cotización</option>
                                        <option value="evento">Evento o celebración</option>
                                        <option value="reclamo">Reclamo o devolución</option>
                                        <option value="trabajo">Trabaja con nosotros</option>
                                        <option value="otro">Otro</option>
                                    </select>
                                    <span class="field-error" id="subjectError"></span>
                                    <span class="field-success"><i class="fas fa-check-circle"></i></span>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="message">
                                    Mensaje <span class="required">*</span>
                                </label>
                                <textarea id="message" 
                                          name="message" 
                                          rows="6" 
                                          required 
                                          minlength="10"
                                          placeholder="Escribe tu mensaje aquí... (mínimo 10 caracteres)"></textarea>
                                <div class="char-counter">
                                    <span id="charCount">0</span> / 500 caracteres
                                </div>
                                <span class="field-error" id="messageError"></span>
                                <span class="field-success"><i class="fas fa-check-circle"></i></span>
                            </div>
                            
                            <div class="form-group form-checkbox">
                                <input type="checkbox" id="newsletter" name="newsletter">
                                <label for="newsletter">
                                    <i class="fas fa-envelope-open-text"></i>
                                    Deseo suscribirme al boletín de noticias y recibir ofertas especiales
                                </label>
                            </div>

                            <div class="form-group form-checkbox">
                                <input type="checkbox" id="privacy" name="privacy" required>
                                <label for="privacy">
                                    Acepto la <a href="/pages/privacy.html" target="_blank">política de privacidad</a> 
                                    <span class="required">*</span>
                                </label>
                                <span class="field-error" id="privacyError"></span>
                            </div>
                            
                            <button type="submit" class="btn btn-primary btn-block ripple btn-magnetic pulse" id="submitBtn">
                                <span class="btn-text">
                                    <i class="fas fa-paper-plane"></i> Enviar Mensaje
                                </span>
                                <span class="btn-loading" style="display: none;">
                                    <i class="fas fa-spinner fa-spin"></i> Enviando...
                                </span>
                            </button>
                        </form>
                    </div>
                </div>
                
                <div class="faq-link-section animate-on-scroll" style="text-align: center; padding: 3rem 2rem; background: linear-gradient(135deg, #fef5f8 0%, #ffffff 100%); border-radius: 16px; margin-bottom: 2rem;">
                    <i class="fas fa-question-circle" style="font-size: 3rem; color: #C2185B; margin-bottom: 1rem;"></i>
                    <h2 style="margin-bottom: 1rem; color: #2C1F2F;"><i class="fas fa-question-circle"></i> ¿Tienes preguntas?</h2>
                    <p style="font-size: 1.1rem; color: #4a4a4a; margin-bottom: 1.5rem; max-width: 600px; margin-left: auto; margin-right: auto;">
                        Consulta nuestra sección de Preguntas Frecuentes donde encontrarás respuestas a las dudas más comunes sobre entregas, pagos, personalización y más.
                    </p>
                    <a href="/pages/faq.html" class="btn btn-primary" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 1rem 2rem; background: linear-gradient(135deg, #C2185B 0%, #880E4F 100%); color: white; border-radius: 8px; text-decoration: none; font-weight: 700; transition: all 0.3s ease; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);">
                        <i class="fas fa-book-open"></i>
                        Ver Preguntas Frecuentes
                    </a>
                </div>

                <div class="map-section animate-on-scroll">
                    <h2><i class="fas fa-map-marked-alt"></i> Nuestra Ubicación</h2>
                    <div class="map-container">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d13189.71620874083!2d-70.6431444!3d-33.4378895!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9662c5d2f7b6b4f1%3A0x9ee02d4a0d0e5e6!2sRecoleta%2C%20Santiago%2C%20Regi%C3%B3n%20Metropolitana!5e0!3m2!1ses!2scl!4v1651234567890!5m2!1ses!2scl" 
                                width="100%" 
                                height="450" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade"
                                title="Mapa de ubicación de Arreglos Victoria">
                        </iframe>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Arreglos Florales Victoria</h3>
                    <div class="footer-description-contact">
                        <p class="footer-description">Florería familiar en Recoleta con más de 20 años de experiencia. Flores naturales y arreglos florales para todas las ocasiones.</p>
                        <div class="footer-contact">
                            <p><i class="fas fa-map-marker-alt"></i> Av. Valdivieso 593, Recoleta</p>
                            <p><i class="fas fa-phone"></i> +56 9 1234 5678</p>
                            <p><i class="fas fa-envelope"></i> info@flores-victoria.com</p>
                        </div>
                    </div>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="WhatsApp" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Enlaces Rápidos</h4>
                    <ul class="footer-links">
                        <li><a href="/index.html">Inicio</a></li>
                        <li><a href="/pages/products.html">Productos</a></li>
                        <li><a href="/pages/about.html">Nosotros</a></li>
                        <li><a href="/pages/contact.html">Contacto</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Información</h4>
                    <ul class="footer-links">
                        <li><a href="/pages/legal/privacy.html">Política de Privacidad</a></li>
                        <li><a href="/pages/legal/terms.html">Términos y Condiciones</a></li>
                        <li><a href="/pages/shipping.html">Envíos y Devoluciones</a></li>
                        <li><a href="/pages/faq.html">Preguntas Frecuentes</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Horario de Atención</h4>
                    <p class="footer-hours">Lunes a Domingo</p>
                    <p class="footer-hours">9:00 AM - 9:00 PM</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Arreglos Florales Victoria. Todos los derechos reservados.</p>
                <div class="footer-bottom-links">
                    <a href="/pages/sitemap.html">Mapa del Sitio</a>
                </div>
            </div>
        </div>
    </footer>

    <script type="module">
        // Form Validation and Enhancement
        class ContactFormValidator {
            constructor(formId) {
                this.form = document.getElementById(formId);
                this.fields = {
                    name: document.getElementById('name'),
                    email: document.getElementById('email'),
                    phone: document.getElementById('phone'),
                    subject: document.getElementById('subject'),
                    message: document.getElementById('message'),
                    privacy: document.getElementById('privacy')
                };
                this.submitBtn = document.getElementById('submitBtn');
                this.init();
            }

            init() {
                // Real-time validation
                for (const fieldName of Object.keys(this.fields)) {
                    const field = this.fields[fieldName];
                    if (field) {
                        field.addEventListener('blur', () => this.validateField(fieldName));
                        field.addEventListener('input', () => {
                            this.clearError(fieldName);
                            if (fieldName === 'message') {
                                this.updateCharCount();
                            }
                        });
                    }
                }

                // Form submission
                this.form.addEventListener('submit', (e) => this.handleSubmit(e));

                // Character counter
                this.updateCharCount();

                // Store status
                this.updateStoreStatus();
                setInterval(() => this.updateStoreStatus(), 60000); // Update every minute
            }

            validateName(value) {
                if (!value) return { isValid: false, errorMessage: 'El nombre es requerido' };
                if (value.length < 3) return { isValid: false, errorMessage: 'El nombre debe tener al menos 3 caracteres' };
                if (!/^[a-záéíóúñ\s]+$/i.test(value)) return { isValid: false, errorMessage: 'El nombre solo debe contener letras' };
                return { isValid: true, errorMessage: '' };
            }

            validateEmail(value) {
                if (!value) return { isValid: false, errorMessage: 'El email es requerido' };
                if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) return { isValid: false, errorMessage: 'Por favor ingresa un email válido' };
                return { isValid: true, errorMessage: '' };
            }

            validatePhone(value) {
                if (value && !/^[+]?\d{8,15}$/.test(value.replaceAll(' ', ''))) {
                    return { isValid: false, errorMessage: 'Por favor ingresa un teléfono válido' };
                }
                return { isValid: true, errorMessage: '' };
            }

            validateSubject(value) {
                if (!value) return { isValid: false, errorMessage: 'Por favor selecciona un asunto' };
                return { isValid: true, errorMessage: '' };
            }

            validateMessage(value) {
                if (!value) return { isValid: false, errorMessage: 'El mensaje es requerido' };
                if (value.length < 10) return { isValid: false, errorMessage: 'El mensaje debe tener al menos 10 caracteres' };
                if (value.length > 500) return { isValid: false, errorMessage: 'El mensaje no puede exceder 500 caracteres' };
                return { isValid: true, errorMessage: '' };
            }

            validatePrivacy(field) {
                if (!field.checked) return { isValid: false, errorMessage: 'Debes aceptar la política de privacidad' };
                return { isValid: true, errorMessage: '' };
            }

            validateField(fieldName) {
                const field = this.fields[fieldName];
                const value = field.value.trim();
                
                // Clear previous validation state
                field.parentElement.classList.remove('has-error', 'has-success');

                const validators = {
                    name: () => this.validateName(value),
                    email: () => this.validateEmail(value),
                    phone: () => this.validatePhone(value),
                    subject: () => this.validateSubject(value),
                    message: () => this.validateMessage(value),
                    privacy: () => this.validatePrivacy(field)
                };

                const result = validators[fieldName]();
                const { isValid, errorMessage } = result;

                if (!isValid) {
                    this.showError(fieldName, errorMessage);
                } else if (value || fieldName === 'privacy') {
                    this.showSuccess(fieldName);
                }

                return isValid;
            }

            showError(fieldName, message) {
                const errorElement = document.getElementById(`${fieldName}Error`);
                const field = this.fields[fieldName];
                
                if (errorElement) {
                    errorElement.textContent = message;
                }
                field.parentElement.classList.add('has-error');
                field.parentElement.classList.remove('has-success');
            }

            showSuccess(fieldName) {
                const field = this.fields[fieldName];
                field.parentElement.classList.add('has-success');
                field.parentElement.classList.remove('has-error');
            }

            clearError(fieldName) {
                const errorElement = document.getElementById(`${fieldName}Error`);
                if (errorElement) {
                    errorElement.textContent = '';
                }
            }

            updateCharCount() {
                const message = this.fields.message;
                const charCount = document.getElementById('charCount');
                if (message && charCount) {
                    const count = message.value.length;
                    charCount.textContent = count;
                    charCount.parentElement.style.color = count > 500 ? 'var(--danger-color)' : 'var(--text-secondary)';
                }
            }

            async handleSubmit(e) {
                e.preventDefault();

                // Validate all fields
                let isFormValid = true;
                for (const fieldName of Object.keys(this.fields)) {
                    if (fieldName !== 'phone') { // phone is optional
                        if (!this.validateField(fieldName)) {
                            isFormValid = false;
                        }
                    }
                }

                if (!isFormValid) {
                    this.showMessage('error', 'Por favor corrige los errores antes de enviar');
                    return;
                }

                // Show loading state
                this.setLoading(true);

                try {
                    const formData = {
                        name: this.fields.name.value.trim(),
                        email: this.fields.email.value.trim(),
                        phone: this.fields.phone.value.trim(),
                        subject: this.fields.subject.value,
                        message: this.fields.message.value.trim(),
                        newsletter: document.getElementById('newsletter').checked
                    };

                    // Send to API
                    const response = await fetch('/api/contact', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(formData)
                    });

                    if (response.ok) {
                        this.showMessage('success', '¡Mensaje enviado exitosamente! Nos pondremos en contacto contigo pronto.');
                        this.form.reset();
                        this.updateCharCount();
                        
                        // Clear validation states
                        for (const fieldName of Object.keys(this.fields)) {
                            this.fields[fieldName].parentElement.classList.remove('has-error', 'has-success');
                        }

                        // Scroll to success message
                        document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    } else {
                        throw new Error('Error al enviar el mensaje');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    this.showMessage('error', 'Hubo un error al enviar el mensaje. Por favor, intenta nuevamente o contáctanos directamente.');
                } finally {
                    this.setLoading(false);
                }
            }

            showMessage(type, message) {
                const successMsg = document.getElementById('successMessage');
                const errorMsg = document.getElementById('errorMessage');

                successMsg.style.display = 'none';
                errorMsg.style.display = 'none';

                if (type === 'success') {
                    successMsg.querySelector('p').textContent = message;
                    successMsg.style.display = 'block';
                    setTimeout(() => {
                        successMsg.style.display = 'none';
                    }, 5000);
                } else {
                    errorMsg.querySelector('p').textContent = message;
                    errorMsg.style.display = 'block';
                }
            }

            setLoading(loading) {
                const btnText = this.submitBtn.querySelector('.btn-text');
                const btnLoading = this.submitBtn.querySelector('.btn-loading');
                
                if (loading) {
                    this.submitBtn.disabled = true;
                    btnText.style.display = 'none';
                    btnLoading.style.display = 'inline-block';
                } else {
                    this.submitBtn.disabled = false;
                    btnText.style.display = 'inline-block';
                    btnLoading.style.display = 'none';
                }
            }

            updateStoreStatus() {
                const statusBadge = document.getElementById('storeStatus');
                if (!statusBadge) return;

                const now = new Date();
                const day = now.getDay(); // 0 = Sunday, 6 = Saturday
                const hours = now.getHours();
                const minutes = now.getMinutes();
                const currentTime = hours * 60 + minutes;

                let isOpen = false;
                let statusText = '';

                // Monday to Friday: 9:00 AM - 8:00 PM (540 - 1200 minutes)
                // Saturday and Sunday: 10:00 AM - 6:00 PM (600 - 1080 minutes)
                if (day >= 1 && day <= 5) {
                    isOpen = currentTime >= 540 && currentTime < 1200;
                    statusText = isOpen ? 'Abierto ahora' : 'Cerrado';
                } else {
                    isOpen = currentTime >= 600 && currentTime < 1080;
                    statusText = isOpen ? 'Abierto ahora' : 'Cerrado';
                }

                statusBadge.className = `status-badge ${isOpen ? 'status-open' : 'status-closed'}`;
                statusBadge.querySelector('.status-text').textContent = statusText;
            }
        }

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            for (const entry of entries) {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animated');
                    observer.unobserve(entry.target);
                }
            }
        }, observerOptions);

        for (const el of document.querySelectorAll('.animate-on-scroll')) {
            observer.observe(el);
        }

        // Initialize form validator
        const contactFormValidator = new ContactFormValidator('contactForm');
        // Store validator instance in case needed later
        globalThis.contactFormValidator = contactFormValidator;
    </script>
    
    
    
    
  <script defer src="../js/components/common-bundle.js"></script>
    <script src="/js/utils/lazy-load.js" defer></script>
</body>
</html>

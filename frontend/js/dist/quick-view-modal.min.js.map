{"version":3,"names":["QuickViewModal","constructor","config","this","modalId","enableZoom","enableShare","enableWishlist","minQuantity","maxQuantity","closeOnEscape","closeOnOutsideClick","enableKeyboardNav","enableAnalytics","animationDuration","currentProduct","currentImageIndex","quantity","modal","focusTrap","init","document","readyState","addEventListener","setup","createModal","attachGlobalListeners","window","getElementById","modalHTML","body","insertAdjacentHTML","attachModalListeners","e","viewBtn","target","closest","preventDefault","productId","parseInt","dataset","quickView","open","querySelector","close","key","isOpen","prevBtn","nextBtn","previousImage","nextImage","minusBtn","plusBtn","quantityInput","decreaseQuantity","increaseQuantity","setQuantity","value","addToCart","toggleWishlist","querySelectorAll","forEach","btn","network","currentTarget","share","handleKeyboard","product","getProduct","renderProduct","style","display","overflow","setTimeout","classList","add","setupFocusTrap","FloresVictoriaAnalytics","trackQuickView","name","console","error","remove","removeFocusTrap","textContent","category","price","toLocaleString","starsEl","rating","innerHTML","repeat","reviews","description","sku","id","badge","stockEl","stock","renderFeatures","features","renderImages","href","updateWishlistButton","container","length","list","feature","li","createElement","appendChild","mainImg","images","image","src","alt","thumbnailsContainer","img","index","thumb","className","selectImage","enableImageZoom","i","toggle","rect","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height","transformOrigin","transform","updateQuantityInput","num","showNotification","warn","trackAddToCart","addToWishlist","inWishlist","JSON","parse","localStorage","getItem","some","item","icon","url","encodeURIComponent","location","origin","text","shareUrl","navigator","clipboard","writeText","decodeURIComponent","then","trackShare","productCatalogInstance","allProducts","find","p","productsData","focusable","firstFocusable","lastFocusable","shiftKey","activeElement","focus","removeEventListener","message","type","notification","cssText"],"sources":["frontend/js/components/quick-view-modal.js"],"mappings":"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","ignoreList":[]}
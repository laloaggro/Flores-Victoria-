/* Accessibility Fixes for Products Page - WCAG AA Compliance */

/* ========================================
   FIELDSET AND LEGEND STYLING
   ======================================== */

/* Remove default fieldset styling */
.filter-group fieldset,
fieldset.filter-group {
  border: none;
  padding: 0;
  margin: 0;
  min-width: 0;
}

/* Style legend like label */
.filter-group legend,
fieldset legend.filter-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-weight: 600;
  font-size: 0.95rem;
  color: #2c1f2f;
  margin-bottom: 0.75rem;
  padding: 0;
  width: 100%;
}

.filter-group legend i,
fieldset legend.filter-label i {
  color: #c2185b;
  font-size: 1.1rem;
}

/* ========================================
   IMPROVED CONTRAST FOR TEXT ELEMENTS
   ======================================== */

/* Product descriptions with better contrast (7:1 ratio) */
.product-description,
.product-card .description,
.product-excerpt {
  color: #4a4a4a !important; /* Was #666, now 8.9:1 contrast on white */
}

/* Product prices with better contrast (7.5:1 ratio) */
.product-price,
.price-current,
.product-card .price {
  color: #333333 !important; /* Was #555, now 12.6:1 contrast */
}

/* Filter labels and secondary text (7:1 ratio) */
.filter-label,
.results-info,
.product-meta {
  color: #595959 !important; /* 7:1 contrast on white */
}

/* Stats and counters (4.5:1 minimum) */
.stat-item span,
.badge-count,
.filter-count {
  color: #5a505e !important; /* Maintains brand color with 6.7:1 contrast */
}

/* ========================================
   PRODUCT CARD ACCESSIBILITY
   ======================================== */

/* Ensure product links have proper accessible names */
.product-card .product-link {
  text-decoration: none;
}

.product-card .product-link:focus {
  outline: 2px solid #c2185b;
  outline-offset: 2px;
}

/* ========================================
   BUTTON ACCESSIBILITY
   ======================================== */

/* Ensure all buttons have proper focus states */
button:focus,
.btn:focus,
.ripple:focus {
  outline: 2px solid #c2185b;
  outline-offset: 2px;
}

/* Price chip buttons with visible focus */
.price-chips button:focus {
  outline: 2px solid #2d5016;
  outline-offset: 2px;
}

/* Color chip buttons with visible focus */
.color-chip:focus {
  outline: 3px solid #2d5016;
  outline-offset: 3px;
  transform: scale(1.1);
}

/* ========================================
   SELECT AND INPUT ACCESSIBILITY
   ======================================== */

/* Ensure select elements have proper styling when focused */
select:focus {
  outline: 2px solid #2d5016;
  outline-offset: 1px;
  border-color: #4a7c2c;
}

/* Input search with better focus indicator */
.search-input:focus {
  outline: 2px solid #2d5016;
  outline-offset: 1px;
}

/* ========================================
   RESPONSIVE ACCESSIBILITY
   ======================================== */

@media (max-width: 768px) {
  /* Ensure touch targets are at least 44x44px */
  .price-chips button,
  .color-chip {
    min-width: 44px;
    min-height: 44px;
  }

  /* Improve label readability on mobile */
  .filter-label,
  legend.filter-label {
    font-size: 1rem;
  }
}

/* ========================================
   SKIP TO CONTENT LINK (for keyboard users)
   ======================================== */

.skip-to-content {
  position: absolute;
  top: -40px;
  left: 0;
  background: #2d5016;
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  z-index: 100;
}

.skip-to-content:focus {
  top: 0;
}

/* ========================================
   ADDITIONAL CONTRAST FIXES (Lighthouse)
   Fixes for low contrast text (#999, #ccc)
   ======================================== */

/* Secondary text and placeholders - minimum 4.5:1 contrast */
.text-muted,
.text-secondary,
.placeholder-text {
  color: #666666 !important; /* 5.74:1 on white */
}

/* Disabled/inactive states - still need readable contrast */
.disabled,
[disabled],
.inactive {
  color: #757575 !important; /* 4.6:1 on white - meets AA */
}

/* Star ratings - ensure visible contrast */
.star-empty,
.rating-empty {
  color: #9e9e9e !important; /* Using slightly darker gray */
}

/* Optional labels and hints */
.optional,
.hint,
.form-hint {
  color: #616161 !important; /* 6.96:1 on white */
}

/* Counter badges and small text */
.counter,
.count,
.item-count {
  color: #5a5a5a !important; /* 7:1 on white */
}

/* ========================================
   VISUALLY HIDDEN UTILITY (for labels)
   ======================================== */
.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* ========================================
   GLOBAL LOW CONTRAST FIXES
   Override all #999, #ccc, #aaa colors
   ======================================== */

/* Fix all elements using #999 - now #666 (5.74:1 contrast) */
.user-dropdown-header small,
.product-rating .empty-star,
.filter-count,
.results-count,
.pagination-info,
.cart-empty-text,
.no-results-text,
.helper-text,
.meta-text,
.secondary-text,
.light-text,
.muted {
  color: #666666 !important;
}

/* Fix all elements using #ccc - now #767676 (4.54:1 contrast - AA minimum) */
.border-light,
.divider,
.separator {
  border-color: #767676 !important;
}

/* Fix placeholder text colors */
::placeholder {
  color: #666666 !important;
  opacity: 1;
}

::-webkit-input-placeholder {
  color: #666666 !important;
}

::-moz-placeholder {
  color: #666666 !important;
}

:-ms-input-placeholder {
  color: #666666 !important;
}

/* Ensure links have sufficient contrast */
a {
  color: #c2185b;
}

a:visited {
  color: #880e4f;
}

/* Focus states must have 3:1 contrast minimum */
:focus {
  outline: 2px solid #c2185b;
  outline-offset: 2px;
}

/* ========================================
   TOUCH TARGET SIZE (48x48 minimum)
   ======================================== */
button,
[role='button'],
a.btn,
.clickable,
input[type='checkbox'],
input[type='radio'] {
  min-height: 44px;
  min-width: 44px;
}

/* Small buttons need padding to meet target size */
.btn-sm,
.btn-small,
.icon-btn {
  padding: 12px;
}

/* 🔧 FLORES VICTORIA - FIXES Y CORRECCIONES
   ======================================== */

/* Fixes para elementos específicos */

/* Fix para imágenes sin src */
img[src=""],
img:not([src]) {
  background: var(--gray-200);
  color: var(--gray-500);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-sm);
  font-weight: 500;
}

img[src=""]:before,
img:not([src]):before {
  content: "📷 Imagen";
}

/* Fix para links rotos */
a[href=""],
a[href="#"],
a:not([href]) {
  color: var(--gray-400);
  cursor: not-allowed;
  text-decoration: line-through;
}

/* Fix para formularios sin action */
form:not([action]) {
  border: 2px dashed var(--warning);
  padding: var(--space-4);
  border-radius: var(--radius);
}

form:not([action]):before {
  content: "⚠️ Formulario sin action definido";
  display: block;
  color: var(--warning);
  font-weight: 600;
  margin-bottom: var(--space-3);
  font-size: var(--font-size-sm);
}

/* Fix para JavaScript no funcional */
.js-disabled {
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid var(--warning);
  padding: var(--space-4);
  border-radius: var(--radius);
  margin: var(--space-4) 0;
}

.js-disabled:before {
  content: "⚠️ Esta funcionalidad requiere JavaScript";
  display: block;
  color: var(--warning);
  font-weight: 600;
  margin-bottom: var(--space-2);
}

/* Fix para contenido placeholder */
.placeholder-content {
  background: var(--gray-100);
  color: var(--gray-600);
  padding: var(--space-8);
  text-align: center;
  border-radius: var(--radius-lg);
  border: 2px dashed var(--gray-300);
}

.placeholder-content:before {
  content: "📝 Contenido en desarrollo";
  display: block;
  font-size: var(--font-size-lg);
  font-weight: 600;
  margin-bottom: var(--space-2);
}

/* Fix para elementos vacíos */
.empty-state {
  text-align: center;
  padding: var(--space-12);
  color: var(--gray-500);
}

.empty-state-icon {
  font-size: var(--font-size-4xl);
  margin-bottom: var(--space-4);
}

.empty-state-title {
  font-size: var(--font-size-xl);
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: var(--space-2);
}

.empty-state-description {
  color: var(--gray-500);
  margin-bottom: var(--space-6);
}

/* Fix para navegación responsive */
@media (max-width: 768px) {
  .main-nav {
    width: 100%;
  }
  
  .main-nav ul {
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .nav-link {
    display: block;
    text-align: center;
    width: 100%;
  }
}

/* Fix para tablas en móvil */
@media (max-width: 640px) {
  .table-responsive {
    overflow-x: auto;
  }
  
  .table {
    min-width: 600px;
  }
}

/* Fix para modales en móvil */
@media (max-width: 480px) {
  .modal {
    width: 95%;
    margin: var(--space-4);
    padding: var(--space-4);
  }
}

/* Fix para forms en móvil */
@media (max-width: 480px) {
  .form-input,
  .form-select,
  .form-textarea {
    font-size: 16px; /* Previene zoom en iOS */
  }
}

/* Fix para cartas en móvil */
@media (max-width: 480px) {
  .card {
    margin: var(--space-2);
    padding: var(--space-4);
  }
  
  .product-card {
    margin-bottom: var(--space-4);
  }
}

/* Fix para botones en móvil */
@media (max-width: 480px) {
  .btn {
    min-height: 44px; /* Touch target size */
    font-size: var(--font-size-base);
  }
  
  .btn-sm {
    min-height: 36px;
  }
  
  .btn-lg {
    min-height: 52px;
  }
}

/* Accessibility fixes */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus visible */
*:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Fix para elementos interactivos */
button,
[role="button"],
input[type="submit"],
input[type="button"] {
  min-height: 44px;
  cursor: pointer;
}

button:disabled,
[role="button"][aria-disabled="true"],
input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Fix para contenido de error */
.error-page {
  min-height: 50vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: var(--space-8);
}

.error-code {
  font-size: 4rem;
  font-weight: 900;
  color: var(--error);
  margin-bottom: var(--space-4);
}

.error-message {
  font-size: var(--font-size-xl);
  color: var(--gray-700);
  margin-bottom: var(--space-6);
}

/* Fix para loading states */
.loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.loading-text {
  margin-left: var(--space-3);
  color: var(--gray-600);
}

/* Fix para elementos sticky en móvil */
@media (max-width: 768px) {
  .sticky {
    position: relative;
  }
}

/* Fix para scroll horizontal */
body {
  overflow-x: hidden;
}

* {
  max-width: 100%;
}

/* Fix para contenido que desborda */
.overflow-wrap {
  overflow-wrap: break-word;
  word-wrap: break-word;
  hyphens: auto;
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  .page-break {
    page-break-before: always;
  }
  
  .page-break-inside {
    page-break-inside: avoid;
  }
  
  body {
    background: white !important;
    color: black !important;
  }
  
  .card,
  .modal {
    box-shadow: none !important;
    border: 1px solid #ccc !important;
  }
}

/* Dark mode preparation */
@media (prefers-color-scheme: dark) {
  .auto-dark {
    --gray-50: #0f172a;
    --gray-100: #1e293b;
    --gray-200: #334155;
    --gray-300: #475569;
    --gray-400: #64748b;
    --gray-500: #94a3b8;
    --gray-600: #cbd5e1;
    --gray-700: #e2e8f0;
    --gray-800: #f1f5f9;
    --gray-900: #f8fafc;
    --white: #0f172a;
  }
}
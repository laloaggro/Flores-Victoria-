# === Base de datos (MongoDB) ===
MONGO_INITDB_ROOT_USERNAME=admin
# Importante: URL-encodea caracteres especiales. Ej: "/" -> "%2F"
MONGO_INITDB_ROOT_PASSWORD=CHANGE_ME_URLENCODED

# === Redis (dev sin auth) ===
REDIS_URL=redis://redis:6379

# === RabbitMQ ===
RABBITMQ_DEFAULT_USER=admin
RABBITMQ_DEFAULT_PASS=CHANGE_ME_URLENCODED
# Si algún servicio usa esta URL directamente, asegúrate de URL-encodear la contraseña
RABBITMQ_URL=amqp://admin:CHANGE_ME_URLENCODED@rabbitmq:5672

# === JWT ===
JWT_SECRET=CHANGE_ME

# === URIs de Mongo por servicio (usar el usuario/clave de arriba) ===
PRODUCT_SERVICE_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/products_db?authSource=admin
RECOMMENDATIONS_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/flores_victoria?authSource=admin
PROMOTION_SERVICE_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/flores_victoria?authSource=admin

# (Opcional) Si otros servicios requieren Mongo, descomenta y ajusta:
# REVIEW_SERVICE_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/review_db?authSource=admin
# WISHLIST_SERVICE_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/wishlist_db?authSource=admin
# ORDER_SERVICE_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/order_db?authSource=admin
# USER_SERVICE_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/user_db?authSource=admin
# CART_SERVICE_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/cart_db?authSource=admin
# CONTACT_SERVICE_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/contact_db?authSource=admin
# ANALYTICS_SERVICE_MONGODB_URI=mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongodb:27017/analytics_db?authSource=admin

# === URLs/puertos de servicios (si se necesitan fuera de docker-compose) ===
API_GATEWAY_PORT=3000
AUTH_SERVICE_URL=http://auth-service:3001
PRODUCT_SERVICE_URL=http://product-service:3009
USER_SERVICE_URL=http://user-service:3003
ORDER_SERVICE_URL=http://order-service:3004
CART_SERVICE_URL=http://cart-service:3005
WISHLIST_SERVICE_URL=http://wishlist-service:3006
REVIEW_SERVICE_URL=http://review-service:3007
CONTACT_SERVICE_URL=http://contact-service:3008

# === Claves de terceros (placeholders) ===
NEW_RELIC_LICENSE_KEY=your_newrelic_license_key
OPENAI_API_KEY=your_openai_api_key_here
AI_PROVIDER=huggingface
HUGGINGFACE_API_KEY=hf_xxx_replace_me
REPLICATE_API_KEY=your_replicate_token_here

# Notas:
# - No subas .env real al repositorio. Usa este archivo como plantilla.
# - Siempre URL-encodea contraseñas con caracteres especiales en URIs.# ============================================# ===================================

# FLORES VICTORIA - ENVIRONMENT VARIABLES# FLORES VICTORIA - Environment Variables

# ============================================# ===================================

# IMPORTANTE: Este es un archivo de ejemplo

# Copia este archivo a .env y configura los valores reales# Environment

# NUNCA compartas credenciales reales en repositoriosNODE_ENV=development

# Options: development, staging, production

# ============================================

# DATABASE CONFIGURATION# Application

# ============================================APP_NAME=Flores Victoria

MONGO_ROOT_PASSWORD=CAMBIA_ESTO_POR_CONTRASEÑA_SEGURAAPP_VERSION=3.0.0

MONGO_INITDB_ROOT_USERNAME=adminAPP_URL=http://localhost:5173

MONGO_INITDB_ROOT_PASSWORD=CAMBIA_ESTO_POR_CONTRASEÑA_SEGURA

# API Configuration

# ============================================API_GATEWAY_URL=http://localhost:3000

# MESSAGE QUEUE CONFIGURATIONAPI_GATEWAY_PORT=3000

# ============================================API_TIMEOUT=30000

RABBITMQ_PASSWORD=CAMBIA_ESTO_POR_CONTRASEÑA_SEGURA

RABBITMQ_DEFAULT_USER=admin# Database - MongoDB

RABBITMQ_DEFAULT_PASS=CAMBIA_ESTO_POR_CONTRASEÑA_SEGURAMONGODB_HOST=mongodb

RABBITMQ_URL=amqp://admin:TU_CONTRASEÑA@rabbitmq:5672MONGODB_PORT=27017

MONGODB_DATABASE=products_db

# ============================================MONGODB_USERNAME=

# CACHE CONFIGURATIONMONGODB_PASSWORD=

# ============================================

REDIS_PASSWORD=CAMBIA_ESTO_POR_CONTRASEÑA_SEGURA# Database - PostgreSQL

REDIS_URL=redis://default:TU_CONTRASEÑA@redis:6379POSTGRES_HOST=postgres

POSTGRES_PORT=5432

# ============================================POSTGRES_DATABASE=flores_victoria

# ELASTICSEARCH CONFIGURATIONPOSTGRES_USERNAME=flores_user

# ============================================POSTGRES_PASSWORD=flores_password_2024

ELASTIC_PASSWORD=CAMBIA_ESTO_POR_CONTRASEÑA_SEGURA

# Redis

# ============================================REDIS_HOST=redis

# MONITORING CONFIGURATIONREDIS_PORT=6379

# ============================================REDIS_PASSWORD=

# Obtén una licencia en: https://newrelic.com

NEW_RELIC_LICENSE_KEY=tu_newrelic_license_key_aqui# JWT Authentication

JWT_SECRET=your-super-secret-jwt-key-change-in-production

# ============================================JWT_EXPIRATION=7d

# JWT SECURITY CONFIGURATIONREFRESH_TOKEN_EXPIRATION=30d

# ============================================

# CRÍTICO: Genera un secreto aleatorio fuerte# Frontend

# Comando: openssl rand -base64 32VITE_API_URL=http://localhost:3000/api

JWT_SECRET=GENERA_UNO_CON_OPENSSL_RAND_BASE64_32VITE_ENABLE_DEBUG_LOGS=true

VITE_ENABLE_SERVICE_WORKER=true

# ============================================

# MONGODB URIS FOR MICROSERVICES# Monitoring

# ============================================JAEGER_AGENT_HOST=jaeger

# Reemplaza TU_CONTRASEÑA con tu contraseña de MongoDBJAEGER_AGENT_PORT=6831

PRODUCT_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/products_db?authSource=adminENABLE_TRACING=true

REVIEW_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/review_db?authSource=admin

WISHLIST_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/wishlist_db?authSource=admin# AI Service

ORDER_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/order_db?authSource=adminAI_SERVICE_API_KEY=

USER_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/user_db?authSource=adminAI_IMAGE_GENERATION_MODEL=stable-diffusion-xl

CART_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/cart_db?authSource=admin

AUDIT_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/audit_db?authSource=admin# Payment Gateway (Mercado Pago / Stripe)

CONTACT_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/contact_db?authSource=adminPAYMENT_GATEWAY=mercadopago

ANALYTICS_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/analytics_db?authSource=adminMERCADOPAGO_ACCESS_TOKEN=

AUTH_SERVICE_MONGODB_URI=mongodb://admin:TU_CONTRASEÑA@mongodb:27017/auth_db?authSource=adminMERCADOPAGO_PUBLIC_KEY=

STRIPE_SECRET_KEY=

# ============================================STRIPE_PUBLIC_KEY=

# MICROSERVICES PORTS

# ============================================# Email Service

API_GATEWAY_PORT=3000SMTP_HOST=smtp.gmail.com

SMTP_PORT=587

# Auth ServiceSMTP_SECURE=false

AUTH_SERVICE_URL=http://auth-service:3001SMTP_USER=

AUTH_SERVICE_PORT=3001SMTP_PASSWORD=

AUTH_SERVICE_DB_PATH=/app/db.sqliteEMAIL_FROM=noreply@arreglosvictoria.com



# Product Service# Security

PRODUCT_SERVICE_URL=http://product-service:3002CORS_ORIGIN=http://localhost:5173,http://localhost:3000

PRODUCT_SERVICE_PORT=3002RATE_LIMIT_WINDOW_MS=900000

RATE_LIMIT_MAX_REQUESTS=100

# User Service

USER_SERVICE_URL=http://user-service:3003# Feature Flags

USER_SERVICE_PORT=3003ENABLE_PRODUCT_REVIEWS=true

ENABLE_WISHLIST=true

# Order ServiceENABLE_AI_RECOMMENDATIONS=true

ORDER_SERVICE_URL=http://order-service:3004ENABLE_PROMOTIONS=true

ORDER_SERVICE_PORT=3004

# Logging

# Cart ServiceLOG_LEVEL=info

CART_SERVICE_URL=http://cart-service:3005# Options: error, warn, info, debug, trace

CART_SERVICE_PORT=3005

# Wishlist Service
WISHLIST_SERVICE_URL=http://wishlist-service:3006
WISHLIST_SERVICE_PORT=3006

# Review Service
REVIEW_SERVICE_URL=http://review-service:3007
REVIEW_SERVICE_PORT=3007

# Contact Service
CONTACT_SERVICE_URL=http://contact-service:3008
CONTACT_SERVICE_PORT=3008

# ============================================
# AI SERVICES CONFIGURATION
# ============================================
AI_SERVICE_URL=http://ai-service:3010
AI_SERVICE_PORT=3010

# OpenAI API Key (Opcional - Obtén en: https://platform.openai.com/api-keys)
OPENAI_API_KEY=tu_openai_api_key_aqui

# AI Provider: 'pollinations' (gratis), 'huggingface' (gratis con key), 'replicate', 'openai'
AI_PROVIDER=huggingface

# Hugging Face API Key (GRATIS en https://huggingface.co/settings/tokens)
HUGGINGFACE_API_KEY=tu_huggingface_api_key_aqui

# Replicate API Key (Obtén en: https://replicate.com/account/api-tokens)
REPLICATE_API_KEY=tu_replicate_api_key_aqui

# === Grafana Alerts Configuration ===
# Email para recibir alertas
ALERT_EMAIL=admin@flores-victoria.com

# Slack Webhook URL (Opcional - Obtén en: https://api.slack.com/messaging/webhooks)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Discord Webhook URL (Opcional - Obtén en: Discord Server Settings > Integrations > Webhooks)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# Webhook personalizado para alertas (Opcional)
WEBHOOK_ALERT_URL=http://api-gateway:3000/api/alerts/webhook

# Grafana Admin Credentials
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme

# ============================================
# INSTRUCCIONES DE SETUP
# ============================================
# 1. Copia este archivo: cp .env.example .env
# 2. Genera credenciales seguras:
#    - JWT_SECRET: openssl rand -base64 32
#    - Contraseñas: openssl rand -base64 24
# 3. Reemplaza TODOS los valores CAMBIA_ESTO y TU_CONTRASEÑA
# 4. Obtén API keys de servicios externos si los necesitas
# 5. NUNCA compartas el archivo .env en repositorios públicos
# 6. Verifica que .env esté en .gitignore

#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Check for secrets first (critical security)
bash .husky/check-secrets || exit 1

# Verify frontend structure early (fast fail)
bash scripts/verify-frontend-structure.sh || {
	echo "âŒ Frontend structure verification failed. Fix issues above and re-commit.";
	exit 1;
}

# Run lint-staged
npx lint-staged

# Run tests
npm test -- --passWithNoTests --bail
npx lint-staged

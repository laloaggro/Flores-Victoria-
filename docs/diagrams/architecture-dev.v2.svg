<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="900" viewBox="0 0 1400 900">
  <style>
    .title { font: 700 28px Inter, Arial, sans-serif; }
    .subtitle { font: 600 18px Inter, Arial, sans-serif; fill: #1f2937; }
    .label { font: 600 14px Inter, Arial, sans-serif; fill: #111827; }
    .muted { font: 12px Inter, Arial, sans-serif; fill: #4b5563; }
    .legend { font: 12px Inter, Arial, sans-serif; fill: #374151; }
    .box { fill: #ffffff; stroke: #1f6feb; stroke-width: 1.8; rx: 10; }
    .box-front { fill: #eef6ff; stroke: #2563eb; }
    .box-gw { fill: #eefcf7; stroke: #059669; }
    .box-svc { fill: #fff7ed; stroke: #c2410c; }
    .box-data { fill: #f3f4f6; stroke: #374151; }
    .box-obs { fill: #f5f3ff; stroke: #6d28d9; }
    .boundary { fill: #f8fafc; stroke: #94a3b8; stroke-dasharray: 6 4; rx: 16; }
    .arrow { stroke: #4b5563; stroke-width: 2.2; marker-end: url(#arrow); }
    .arrow-dash { stroke-dasharray: 6 6; }
  </style>
  <defs>
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="3.5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,7 L11,3.5 z" fill="#4b5563" />
    </marker>
  </defs>

  <text x="700" y="42" text-anchor="middle" class="title">Arquitectura en Desarrollo (v2)</text>
  <text x="700" y="68" text-anchor="middle" class="muted">Stack ligero para iteración rápida con hot reload</text>

  <!-- Leyenda -->
  <rect x="40" y="80" width="280" height="120" class="boundary"/>
  <text x="52" y="105" class="legend">Leyenda:</text>
  <rect x="52" y="118" width="12" height="12" class="box-front"/><text x="70" y="128" class="legend">Frontend</text>
  <rect x="52" y="138" width="12" height="12" class="box-gw"/><text x="70" y="148" class="legend">API Gateway</text>
  <rect x="162" y="118" width="12" height="12" class="box-svc"/><text x="180" y="128" class="legend">Microservicio</text>
  <rect x="162" y="138" width="12" height="12" class="box-data"/><text x="180" y="148" class="legend">Datos/Dependencia</text>

  <!-- Límite del entorno dev -->
  <rect x="20" y="210" width="1360" height="640" class="boundary"/>
  <text x="30" y="230" class="muted">Entorno de desarrollo (Docker Compose: docker-compose.dev.yml)</text>

  <!-- Frontends -->
  <rect x="60" y="260" width="330" height="120" class="box-front"/>
  <text x="225" y="292" text-anchor="middle" class="subtitle">Frontend (Vite)</text>
  <text x="225" y="315" text-anchor="middle" class="muted">http://localhost:5173</text>
  <text x="225" y="336" text-anchor="middle" class="muted">Fuente: frontend/public</text>
  <text x="85" y="350" class="muted">LocalStorage: token, authToken, user</text>

  <rect x="60" y="410" width="330" height="110" class="box-front"/>
  <text x="225" y="442" text-anchor="middle" class="subtitle">Admin Panel</text>
  <text x="225" y="465" text-anchor="middle" class="muted">http://localhost:3010</text>

  <!-- API Gateway -->
  <rect x="440" y="320" width="280" height="160" class="box-gw"/>
  <text x="580" y="352" text-anchor="middle" class="subtitle">API Gateway</text>
  <text x="580" y="375" text-anchor="middle" class="muted">http://localhost:3000</text>
  <text x="455" y="400" class="muted">• /api/auth/* → auth-service</text>
  <text x="455" y="420" class="muted">• /api/products/* → product-service</text>
  <text x="455" y="440" class="muted">• Compat: /api/users/profile → auth</text>

  <!-- Services -->
  <rect x="770" y="260" width="290" height="130" class="box-svc"/>
  <text x="915" y="292" text-anchor="middle" class="subtitle">Auth Service</text>
  <text x="915" y="313" text-anchor="middle" class="muted">http://localhost:3001</text>
  <text x="785" y="335" class="muted">• POST /api/auth/login</text>
  <text x="785" y="353" class="muted">• GET /api/auth/profile</text>
  <text x="785" y="371" class="muted">• GET /api/auth/health</text>

  <rect x="770" y="420" width="290" height="130" class="box-svc"/>
  <text x="915" y="452" text-anchor="middle" class="subtitle">Product Service</text>
  <text x="915" y="473" text-anchor="middle" class="muted">http://localhost:3009</text>
  <text x="785" y="495" class="muted">• GET /health</text>
  <text x="785" y="513" class="muted">• /api/products/*</text>

  <!-- Observabilidad (opcional en dev) -->
  <rect x="1100" y="320" width="240" height="160" class="box-obs"/>
  <text x="1220" y="352" text-anchor="middle" class="subtitle">Opcional (Dev)</text>
  <text x="1220" y="374" text-anchor="middle" class="muted">Jaeger, MCP Server</text>
  <text x="1120" y="400" class="muted">• Jaeger: 16686</text>
  <text x="1120" y="420" class="muted">• MCP: 5050</text>

  <!-- Flujos -->
  <line x1="390" y1="310" x2="440" y2="360" class="arrow"/>
  <line x1="390" y1="465" x2="440" y2="400" class="arrow"/>

  <line x1="720" y1="370" x2="770" y2="320" class="arrow"/>
  <line x1="720" y1="410" x2="770" y2="485" class="arrow"/>

  <!-- Notas -->
  <text x="700" y="820" text-anchor="middle" class="muted">Nota: En desarrollo se prioriza la velocidad. Servicios no esenciales y bases de datos pueden omitirse o simularse.</text>
</svg>
